# 🖼️ AI 图片识别 - 帮助文档

> 批量识别图片、创新描述词、快捷生成 — 三种模式，一个工具搞定

AI 图片识别是一款多功能批量图片分析与描述词创作工具，支持三种工作模式：**标准识别**、**创新模式**和**快捷模式**。

---

## 📚 目录

1. [快速开始](#快速开始)
2. [三种工作模式](#三种工作模式)
3. [上传图片](#上传图片)
4. [标准模式](#标准模式)
5. [创新模式](#创新模式)
6. [快捷模式](#快捷模式)
7. [随机库系统](#随机库系统)
8. [项目管理](#项目管理)
9. [结果导出](#结果导出)
10. [常见问题](#常见问题)

---

## 🚀 快速开始

### 第一步：上传图片
1. 拖拽图片到界面 / 单击后粘贴 / 双击选择文件
2. 支持批量上传多张图片
3. 支持 JPG、PNG、GIF、WebP 格式
4. 也可粘贴图片 URL 或 Google Sheets 中的 `=IMAGE()` 公式

### 第二步：选择工作模式
- **标准**：AI 按提示词逐张识别分析图片
- **创新**：基于图片 + 指令，AI 创新生成多条新描述词
- **快捷**：无需图片，纯文本批量创新（支持随机库组合）

### 第三步：开始分析
1. 配置提示词 / 创新指令
2. 点击「开始分析」或「开始创新」
3. 结果显示在图片下方或卡片中

---

## 🎯 三种工作模式

顶部工具栏有三个模式切换按钮：

| 模式 | 图标 | 说明 |
|------|------|------|
| ⚡ **标准** | Zap（绿色） | 逐张识别图片，生成分析结果。适合批量识别、内容提取 |
| ✨ **创新** | Sparkles（紫色） | 基于图片进行描述词创新，每张图可生成多条创意结果 |
| ⚡ **快捷** | Zap（橙色） | 无需图片，纯文本输入批量创新。支持随机库组合和配套指令 |

---

## 📤 上传图片

### 支持的格式
| 格式 | 说明 |
|------|------|
| JPG/JPEG | 通用照片格式 |
| PNG | 支持透明背景 |
| GIF | 静态和动态图 |
| WebP | 现代压缩格式 |

### 上传方式
1. **拖拽上传**：直接拖拽图片到界面
2. **单击粘贴**：单击上传区域后，Ctrl/⌘+V 粘贴截图或链接
3. **双击选择**：双击上传区域打开文件选择器
4. **URL 输入**：粘贴图片链接或 Google Sheets 的 `=IMAGE("url")` 公式
5. **HTML 粘贴**：从 Google Sheets 直接粘贴含图片的单元格

### 自动上传 Gyazo
- 可开启自动上传功能，将本地图片上传到 Gyazo 图床
- 上传后获得永久可访问的在线链接
- 也支持一键上传所有未上传图片

---

## ⚡ 标准模式

标准模式用于逐张分析识别图片内容。

### 提示词预设
- 工具栏提供多个预设提示词，可快速切换
- 也支持自定义提示词输入
- 预设管理：新增、编辑、删除自定义预设
- 预设同步：支持云端同步预设（上传/下载）

### 纯回复模式
开启后，AI 只返回分析结果，不添加额外说明。结果自动追加纯回复后缀指令，要求输出完整的图像生成描述词。

### 多轮对话
- 每张图片支持独立的多轮对话
- 可在结果基础上继续追问或要求修改
- 对话历史独立保存
- 支持在对话中附加新图片

### 并发控制
- 支持设置并发数量（同时分析多张图片）
- 内置请求间隔和速率限制保护
- 失败自动重试（支持退避策略）

### 结果操作
- 复制单条结果 / 复制全部结果
- 复制全部链接 / 复制全部公式
- 复制原始+结果（Tab 分隔，适合粘贴到 Google Sheets）
- 重试单张 / 批量重试失败的图片
- 重置全部为待处理状态

---

## ✨ 创新模式

创新模式用于基于图片生成创新描述词，每张图可生成多条不同的创意结果。

### 核心功能
- **创新个数**：设置每张图生成多少条创新描述词
- **创新轮数**：可设置多轮创新，每轮基于上一轮结果继续优化
- **融合图片**：可为单张卡片额外添加融合图片，在创新时参考多张图片
- **全局用户要求**：设置全局附加要求，应用到所有图片的创新过程

### 创新指令
- 可自定义创新指令内容
- 支持模板指令（从模板库选择）
- 支持创新指令组合规则（见高级创新设置）

### 无图模式
- 在创新模式下可切换到「无图模式」
- 支持纯文本输入批量创新
- 支持批量导入主题（每行一个 / Google Sheets 粘贴）
- 每个主题生成多条创新结果

### 翻译功能
- 支持单条结果翻译（英→中）
- 支持批量翻译所有结果
- 翻译结果缓存，避免重复调用

### 发送到反推
- 可将识别/创新结果发送到「反推提示词」工具
- 支持单条发送或批量发送
- 已发送的项目有标记

---

## ⚡ 快捷模式

快捷模式是专注于纯文本批量创新的高效工作流程。

### 特点
- 无需上传图片，直接输入文本主题
- 自动集成随机库系统
- 支持配套指令（与随机库数据源绑定的专用指令）
- 内置标准模式和随机库模式两套默认预设

### QuickInnovationPanel
- 紧凑的快捷创新面板，集成随机库管理
- 支持从 Google Sheets 同步随机库数据
- 支持多个数据源切换
- 实时预览随机组合结果

---

## 🎲 随机库系统

随机库是创新/快捷模式的核心组件，提供可控的随机化能力。

### 功能
- **多维度随机库**：可创建多个独立的随机库（如风格库、场景库、角色库）
- **AI 生成填充**：使用 AI 自动生成随机库内容
- **AI 分析图片**：基于已有图片分析提取元素，自动填充到随机库
- **随机组合**：每次创新自动抽取不同的随机组合，确保多样性
- **笛卡尔积**：可选择生成所有可能组合
- **Google Sheets 同步**：支持从 Google Sheets 导入/导出随机库数据
- **配套指令**：每个数据源可绑定配套的创新指令

### 指令组合规则
根据有无用户要求和随机库，系统会自动组合指令：
1. **有用户要求 + 有随机库**：基础指令 → 用户要求 → 画面创新细节 → 优先级说明
2. **有用户要求 + 无随机库**：基础指令 → 用户要求 → 优先级说明
3. **无用户要求 + 有随机库**：基础指令 → 画面创新细节 → 优先级说明
4. **无用户要求 + 无随机库**：基础指令 → 优先级说明

---

## 📂 项目管理

### 项目功能
- **新建/切换项目**：支持创建多个项目，每个项目独立保存数据
- **自动保存**：图片、分析结果、预设等自动保存到当前项目
- **云端同步**：项目数据可同步到云端（Firestore）
- **项目列表**：可在项目面板中浏览和切换项目

### 保存内容
- 所有上传的图片及其识别/创新结果
- 自定义预设和提示词配置
- 创新模式的文本卡片和结果
- 随机库配置

---

## 📤 结果导出

### 复制操作
| 操作 | 说明 |
|------|------|
| **复制结果** | 复制所有识别结果（每行一条） |
| **复制链接** | 复制所有图片的在线链接 |
| **复制公式** | 复制所有图片的 `=IMAGE()` 公式 |
| **复制原始+结果** | Tab 分隔格式，可直接粘贴到 Google Sheets |

### 导出格式
- **TSV**：复制后可直接粘贴到 Google Sheets
- 含换行的结果会用双引号包裹，确保粘贴到 Sheets 时保持在同一单元格

---

## ❓ 常见问题

### Q: 图片分析失败怎么办？
**A:**
1. 检查网络连接
2. 确认 API 密钥已配置
3. 尝试点击「重试」按钮
4. 系统内置自动重试机制（最多 3 次，指数退避）

### Q: 支持多大的图片？
**A:** 单张图片建议不超过 20MB。较大图片会自动压缩。

### Q: 如何提高识别准确率？
**A:**
1. 使用清晰、高分辨率的图片
2. 使用更具体的自定义提示词
3. 开启纯回复模式获取更精确的输出

### Q: 创新模式和标准模式有什么区别？
**A:**
- **标准模式**：一张图生成一条分析结果，侧重"看图说话"
- **创新模式**：一张图可生成多条创意描述词，侧重"基于图片创新"
- **快捷模式**：无需图片，纯文本输入，侧重"批量文本创新"

### Q: 随机库怎么用？
**A:**
1. 在创新/快捷模式下，打开「高级创新设置」
2. 创建维度（如：风格、场景、光线）
3. 为每个维度填充候选值（手动或 AI 生成）
4. 启用后，每次创新会自动抽取不同组合

### Q: 结果可以编辑吗？
**A:** 创新模式下的结果可以直接编辑。标准模式下可通过多轮对话追问修改。

---

## 💡 使用技巧

1. **标准模式**：批量识别后一键复制到 Google Sheets，配合 `=IMAGE()` 公式管理
2. **创新模式**：先用标准模式识别，再切换到创新模式进行风格创新
3. **快捷模式**：配合随机库和配套指令，高效批量生成多样化描述词
4. **融合图片**：在创新模式下为卡片添加多张参考图，让 AI 融合多种风格
5. **无图模式**：适合没有参考图的场景，直接文本输入批量创新
6. **预设管理**：保存常用提示词为预设，提高工作效率
7. **项目管理**：不同主题用不同项目管理，方便后续查找

---

*文档版本：v2.0.0*
*最后更新：2026-02-09*
