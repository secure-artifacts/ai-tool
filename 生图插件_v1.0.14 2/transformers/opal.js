(function(){"use strict";function W(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var x={exports:{}},r={};var T;function G(){if(T)return r;T=1;var n=Symbol.for("react.element"),f=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),b=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=m&&e[m]||e["@@iterator"],typeof e=="function"?e:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,F={};function _(e,t,o){this.props=e,this.context=t,this.refs=F,this.updater=o||R}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function L(){}L.prototype=_.prototype;function O(e,t,o){this.props=e,this.context=t,this.refs=F,this.updater=o||R}var P=O.prototype=new L;P.constructor=O,V(P,_.prototype),P.isPureReactComponent=!0;var N=Array.isArray,M=Object.prototype.hasOwnProperty,q={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function H(e,t,o){var c,u={},s=null,a=null;if(t!=null)for(c in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)M.call(t,c)&&!B.hasOwnProperty(c)&&(u[c]=t[c]);var l=arguments.length-2;if(l===1)u.children=o;else if(1<l){for(var i=Array(l),h=0;h<l;h++)i[h]=arguments[h+2];u.children=i}if(e&&e.defaultProps)for(c in l=e.defaultProps,l)u[c]===void 0&&(u[c]=l[c]);return{$$typeof:n,type:e,key:s,ref:a,props:u,_owner:q.current}}function oe(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function A(e){return typeof e=="object"&&e!==null&&e.$$typeof===n}function ue(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(o){return t[o]})}var J=/\/+/g;function I(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ue(""+e.key):t.toString(36)}function k(e,t,o,c,u){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case n:case f:a=!0}}if(a)return a=e,u=u(a),e=c===""?"."+I(a,0):c,N(u)?(o="",e!=null&&(o=e.replace(J,"$&/")+"/"),k(u,t,o,"",function(h){return h})):u!=null&&(A(u)&&(u=oe(u,o+(!u.key||a&&a.key===u.key?"":(""+u.key).replace(J,"$&/")+"/")+e)),t.push(u)),1;if(a=0,c=c===""?".":c+":",N(e))for(var l=0;l<e.length;l++){s=e[l];var i=c+I(s,l);a+=k(s,t,o,i,u)}else if(i=U(e),typeof i=="function")for(e=i.call(e),l=0;!(s=e.next()).done;)s=s.value,i=c+I(s,l++),a+=k(s,t,o,i,u);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function C(e,t,o){if(e==null)return e;var c=[],u=0;return k(e,c,"","",function(s){return t.call(o,s,u++)}),c}function ce(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(o){(e._status===0||e._status===-1)&&(e._status=1,e._result=o)},function(o){(e._status===0||e._status===-1)&&(e._status=2,e._result=o)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var p={current:null},$={transition:null},ie={ReactCurrentDispatcher:p,ReactCurrentBatchConfig:$,ReactCurrentOwner:q};function z(){throw Error("act(...) is not supported in production builds of React.")}return r.Children={map:C,forEach:function(e,t,o){C(e,function(){t.apply(this,arguments)},o)},count:function(e){var t=0;return C(e,function(){t++}),t},toArray:function(e){return C(e,function(t){return t})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r.Component=_,r.Fragment=y,r.Profiler=w,r.PureComponent=O,r.StrictMode=d,r.Suspense=E,r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,r.act=z,r.cloneElement=function(e,t,o){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var c=V({},e.props),u=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=q.current),t.key!==void 0&&(u=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(i in t)M.call(t,i)&&!B.hasOwnProperty(i)&&(c[i]=t[i]===void 0&&l!==void 0?l[i]:t[i])}var i=arguments.length-2;if(i===1)c.children=o;else if(1<i){l=Array(i);for(var h=0;h<i;h++)l[h]=arguments[h+2];c.children=l}return{$$typeof:n,type:e.type,key:u,ref:s,props:c,_owner:a}},r.createContext=function(e){return e={$$typeof:b,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j,_context:e},e.Consumer=e},r.createElement=H,r.createFactory=function(e){var t=H.bind(null,e);return t.type=e,t},r.createRef=function(){return{current:null}},r.forwardRef=function(e){return{$$typeof:v,render:e}},r.isValidElement=A,r.lazy=function(e){return{$$typeof:g,_payload:{_status:-1,_result:e},_init:ce}},r.memo=function(e,t){return{$$typeof:S,type:e,compare:t===void 0?null:t}},r.startTransition=function(e){var t=$.transition;$.transition={};try{e()}finally{$.transition=t}},r.unstable_act=z,r.useCallback=function(e,t){return p.current.useCallback(e,t)},r.useContext=function(e){return p.current.useContext(e)},r.useDebugValue=function(){},r.useDeferredValue=function(e){return p.current.useDeferredValue(e)},r.useEffect=function(e,t){return p.current.useEffect(e,t)},r.useId=function(){return p.current.useId()},r.useImperativeHandle=function(e,t,o){return p.current.useImperativeHandle(e,t,o)},r.useInsertionEffect=function(e,t){return p.current.useInsertionEffect(e,t)},r.useLayoutEffect=function(e,t){return p.current.useLayoutEffect(e,t)},r.useMemo=function(e,t){return p.current.useMemo(e,t)},r.useReducer=function(e,t,o){return p.current.useReducer(e,t,o)},r.useRef=function(e){return p.current.useRef(e)},r.useState=function(e){return p.current.useState(e)},r.useSyncExternalStore=function(e,t,o){return p.current.useSyncExternalStore(e,t,o)},r.useTransition=function(){return p.current.useTransition()},r.version="18.3.1",r}var D;function K(){return D||(D=1,x.exports=G()),x.exports}var Q=K();const X=W(Q);function Y(n){return typeof n=="string"?n:n instanceof URL?n.href:n instanceof Request?n.url:String(n??"")}function Z(n){return new Promise(f=>setTimeout(f,n*1e3))}async function ee(n){let f;const y=n.headers.get("Content-Type")||"";try{if(y.includes("application/json"))f=await n.json();else if(y.includes("text/")){let d=await n.text();d=d.replace(/^for\s*\(\s*;;\s*\);/,"").trim();try{f=JSON.parse(d)}catch{f=d}}else if(y.includes("application/octet-stream")||y.includes("blob"))f=await n.blob();else if(y.includes("form-data"))f=await n.formData();else{let d=await n.text();try{f=JSON.parse(d)}catch{f=d}}}catch{}return f}const te="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let re=(n=21)=>{let f="",y=crypto.getRandomValues(new Uint8Array(n|=0));for(;n--;)f+=te[y[n]&63];return f};window.currentProcess={row:null,prompt:"",folder:"",filename:""};function ne(){const n=window.fetch;window.fetch=async(f,y)=>{const w=Y(f).includes("executeStep")&&window.currentProcess.row!=null,j={...window.currentProcess},b=await n(f,y);if(w)try{const v=b.clone(),E=await ee(v);if(E){const S=E.executionOutputs?.generated_image?.chunks;if(Array.isArray(S)&&S.length){const g=S.map(m=>{try{const R=atob(m.data).split("/");return"https://opal.google/board/blobs/"+R[R.length-1]}catch{}return""}).filter(Boolean).map(m=>({url:m,thumbnail:m}));if(g.length){const m=re();window.emitter.emit("onSubmitSuccess",{...j,id:m}),await Z(1),window.emitter.emit("onReceiveData",{[m]:g})}}}}catch(v){console.error(v)}return b}}window.require=n=>{if(n==="react")return X},ne()})();
